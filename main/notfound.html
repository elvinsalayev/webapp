<!DOCTYPE html>
<html lang="az">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>M…ôhsullar ‚Äî C…ôdv…ôl (Popover ‚Äî Razor friendly)</title>
    <style>
      :root {
        /* --- DARK (default) --- */
        --bg-start: #030409;
        --bg-end: #071018;
        --background-color: linear-gradient(90deg, #041221 0%, #000000 100%);

        --text-color: #e9eef6;
        --muted: rgba(233, 238, 246, 0.52);

        --card-bg: rgb(10, 14, 18);
        --table-bg: #051117;
        --surface: rgba(255, 255, 255, 0.03);

        --input-bg: rgba(255, 255, 255, 0.02);
        --input-border: rgba(255, 255, 255, 0.116);

        --accent: #ff6b3b;
        --accent-strong: linear-gradient(90deg, #ff5a3c 0%, #ff8b3b 100%);
        --accent-contrast: #0b0b0b;
        --accent-glow: rgba(255, 107, 59, 0.12);

        /* unified border/overlay variables (theme-aware) */
        --border-strong: rgba(255, 255, 255, 0.144);
        --border-mid: rgba(255, 255, 255, 0.137);
        --border-weak: rgba(255, 255, 255, 0.02);
        --border-x: rgba(255, 255, 255, 0.04);
        --hover-surface: rgba(255, 255, 255, 0.185);
        --surface-overlay: rgba(255, 255, 255, 0.01);
        --panel-overlay: rgba(
          20,
          20,
          20,
          0.98
        ); /* fallback for popover in dark */
        --focus-ring: rgba(255, 107, 59, 0.18);
      }

      /* -------- LIGHT theme overrides -------- */
      [data-theme="light"] {
        --bg-start: #fbfdff;
        --bg-end: #f2f6f9;
        --background-color: linear-gradient(90deg, #fbfdff 0%, #f2f6f9 100%);

        --text-color: #0b1a22;
        --muted: rgba(11, 26, 34, 0.56);

        --card-bg: #ffffff;
        --table-bg: #ffffff;
        --surface: rgba(11, 26, 34, 0.03);

        --input-bg: #ffffff;
        --input-border: rgba(11, 26, 34, 0.08);

        --accent: #ff6b3b;
        --accent-strong: linear-gradient(90deg, #ff8b3b 0%, #ff5a3c 100%);
        --accent-contrast: #ffffff;
        --accent-glow: rgba(255, 107, 59, 0.08);

        /* borders / overlays for light theme (dark tinted overlays on light) */
        --border-strong: rgba(11, 26, 34, 0.08);
        --border-mid: rgba(11, 26, 34, 0.06);
        --border-weak: rgba(11, 26, 34, 0.03);
        --border-x: rgba(11, 26, 34, 0.04);
        --hover-surface: rgba(11, 26, 34, 0.04);
        --surface-overlay: rgba(11, 26, 34, 0.01);
        --panel-overlay: rgba(
          255,
          255,
          255,
          0.98
        ); /* popover fallback for light */
        --focus-ring: rgba(255, 107, 59, 0.16);
      }

      /* =========== rest of your original CSS: only color usages replaced by variables =========== */

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        margin: 0;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
        background: var(--background-color);
        color: var(--text-color);
      }

      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      .navbar {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 14px 20px;
        background: var(--card-bg);
        border-bottom: 1px solid var(--border-strong);
        position: relative;
        z-index: 20;
      }
      .brand {
        /* unchanged */
      }

      .nav-center {
        flex: 1;
        display: flex;
        justify-content: center;
      }
      .nav-search {
        display: flex;
        align-items: center;
        gap: 8px;
        width: 60%;
        max-width: 700px;
      }
      .nav-search input[type="search"] {
        flex: 1;
        padding: 10px 12px;
        border-radius: 10px;
        border: 1px solid var(--input-border);
        background: var(--input-bg);
        color: var(--text-color);
        font-size: 15px;
      }
      .nav-search button {
        padding: 10px 14px;
        border-radius: 10px;
        border: none;
        background: var(--accent-strong);
        color: var(--accent-contrast);
        font-weight: 800;
        cursor: pointer;
      }

      .nav-actions {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .icon-button {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: transparent;
        border: 1px solid var(--border-x);
        display: grid;
        place-items: center;
        cursor: pointer;
        color: var(--text-color);
        position: relative;
      }
      .badge {
        position: absolute;
        top: -6px;
        right: -6px;
        background: var(--accent);
        color: var(--accent-contrast);
        font-size: 11px;
        padding: 2px 6px;
        border-radius: 999px;
      }

      .panel {
        position: absolute;
        top: 64px;
        right: 18px;
        min-width: 300px;
        background: var(--card-bg);
        border-radius: 12px;
        padding: 12px;
        box-shadow: 0 18px 48px rgba(0, 0, 0, 0.5);
        display: none;
        flex-direction: column;
        gap: 8px;
        z-index: 80;
        border: 1px solid var(--border-mid);
      }
      .panel.show {
        display: flex;
      }
      .fav-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
        max-height: 320px;
        overflow: auto;
      }
      .fav-item {
        display: flex;
        gap: 10px;
        align-items: center;
        padding: 8px;
        border-radius: 8px;
      }
      .panel h4 {
        margin: 0 0 6px 0;
        color: var(--text-color);
      }
      .panel .empty {
        color: var(--muted);
        padding: 10px;
        text-align: center;
      }

      .menu-panel {
        position: absolute;
        top: 62px;
        right: 18px;
        min-width: 180px;
        background: var(--card-bg);
        border-radius: 10px;
        padding: 8px;
        box-shadow: 0 18px 48px rgba(39, 39, 39, 0.5);
        border: 1px solid var(--border-mid);
        display: none;
        flex-direction: column;
        gap: 6px;
        z-index: 80;
      }
      .menu-panel.show {
        display: flex;
      }
      .menu-panel a {
        padding: 10px;
        border-radius: 8px;
        text-decoration: none;
        color: var(--text-color);
        font-size: 14px;
      }
      .menu-panel a:hover {
        background: var(--hover-surface);
      }

      .container {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        margin: 16px 0;
        padding-bottom: 12px;
      }

      .card {
        background: var(--table-bg);
        padding: 14px;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
        width: 100%;
        max-width: 1400px;
        margin-bottom: 0;
        border: 1px solid var(--border-mid);
      }

      .page-btn {
        padding: 8px 12px;
        border-radius: 8px;
        border: none;
        background: var(--surface-overlay);
        color: var(--text-color);
        cursor: pointer;
      }

      table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        min-width: 900px;
        background: transparent;
      }
      thead th {
        background: linear-gradient(
          180deg,
          var(--surface-overlay),
          rgba(0, 0, 0, 0)
        );
        padding: 12px 14px;
        text-align: left;
        font-size: 13px;
        border-bottom: 1px solid var(--border-mid);
      }
      thead th:last-child {
        text-align: center;
      }
      tbody td {
        border-bottom: 1px solid var(--border-weak);
        font-size: 14px;
        color: var(--text-color);
        vertical-align: middle;
      }
      tbody tr {
        border: 1px solid var(--border-weak);
      }
      tbody tr:hover {
        cursor: pointer;
      }
      tbody tr:hover td {
        color: var(--accent);
        transition: 0.5s;
      }

      .fav-checkbox {
        display: none;
      }
      .fav-container {
        background-color: transparent;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 8px 10px;
        cursor: pointer;
        user-select: none;
        border-radius: 10px;
        box-shadow: rgba(46, 46, 46, 0.12) 0px 6px 18px;
        color: var(--text-color);
        font-size: 14px;
      }
      .fav-container svg {
        width: 20px;
        height: 20px;
        stroke: currentColor;
        fill: none;
        transition: transform 250ms ease, fill 250ms ease, stroke 250ms ease;
      }
      .fav-checkbox:checked + .fav-container svg {
        fill: hsl(6deg 100% 58%);
        stroke: hsl(6deg 100% 58%);
        animation: heartButton 0.9s;
      }

      @keyframes heartButton {
        0% {
          transform: scale(1);
        }
        25% {
          transform: scale(1.25);
        }
        50% {
          transform: scale(1);
        }
        75% {
          transform: scale(1.12);
        }
        100% {
          transform: scale(1);
        }
      }

      .fav-container .action {
        position: relative;
        overflow: hidden;
        display: grid;
        line-height: 1;
      }
      .fav-container .action span {
        display: inline-block;
        transition: transform 0.4s, opacity 0.4s;
        white-space: nowrap;
      }
      .fav-container .action .option-1 {
        transform: translateY(0%);
        opacity: 1;
      }
      .fav-checkbox:checked + .fav-container .action .option-1 {
        transform: translateY(-100%);
        opacity: 0;
      }
      .fav-container .action .option-2 {
        transform: translateY(100%);
        opacity: 0;
      }
      .fav-checkbox:checked + .fav-container .action .option-2 {
        transform: translateY(0%);
        opacity: 1;
      }
      .fav-container.fav {
        box-shadow: 0 8px 28px rgba(255, 80, 80, 0.06);
        transform: translateY(-1px);
      }


      /* empty-state styles (uses your existing CSS variables) */
      .empty-state {
        display: none; /* JS will toggle */
        gap: 20px;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 36px 18px;
        border-radius: 12px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          transparent
        );
        border: 1px solid var(--border-mid);
        box-shadow: 0 8px 30px var(--accent-glow);
        max-width: 800px;
        margin: 28px auto;
      }

      .empty-state.show {
        display: flex;
        flex-direction: column;
      }

      .empty-illu {
        width: 110px;
        height: 110px;
        display: grid;
        place-items: center;
        border-radius: 18px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          rgba(255, 255, 255, 0)
        );
        border: 1px solid var(--border-weak);
        box-shadow: 0 8px 28px rgba(0, 0, 0, 0.35);
        transform: rotate(-6deg);
        transition: transform 240ms cubic-bezier(0.2, 0.9, 0.2, 1);
        margin-bottom: 6px;
      }

      .empty-illu:hover {
        transform: rotate(0deg) translateY(-6px);
      }

      .empty-illu svg {
        width: 64px;
        height: 64px;
        display: block;
      }

      .empty-title {
        font-size: 18px;
        font-weight: 700;
        color: var(--text-color);
        margin: 8px 0 6px;
      }

      .empty-desc {
        color: var(--muted);
        font-size: 14px;
        max-width: 560px;
        line-height: 1.5;
        margin-bottom: 12px;
      }

      .empty-actions {
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }

      .empty-actions .page-btn {
        background: var(--accent);
        color: var(--accent-contrast);
        border: none;
        padding: 10px 14px;
        border-radius: 10px;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 8px 30px var(--accent-glow);
        transition: transform 0.12s ease, box-shadow 0.12s ease;
      }
      .empty-actions .page-btn:hover {
        transform: translateY(-3px);
      }

      .empty-actions .page-link {
        background: transparent;
        color: var(--muted);
        border: 1px solid var(--border-weak);
        padding: 10px 12px;
        border-radius: 10px;
        cursor: pointer;
      }

      /* subtle animated dots */
      .empty-dots {
        display: inline-flex;
        gap: 6px;
        margin-top: 10px;
        align-items: center;
      }
      .empty-dots .dot {
        width: 8px;
        height: 8px;
        border-radius: 99px;
        background: var(--accent);
        opacity: 0.95;
        transform: translateY(0);
        animation: float 1.2s ease-in-out infinite;
      }
      .empty-dots .dot:nth-child(2) {
        animation-delay: 0.12s;
        opacity: 0.75;
      }
      .empty-dots .dot:nth-child(3) {
        animation-delay: 0.24s;
        opacity: 0.55;
      }
      @keyframes float {
        0% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-6px);
        }
        100% {
          transform: translateY(0);
        }
      }

      /* responsive */
      @media (max-width: 740px) {
        .empty-state {
          padding: 24px 12px;
          margin: 18px auto;
        }
        .empty-illu {
          width: 92px;
          height: 92px;
        }
        .empty-title {
          font-size: 16px;
        }
      }

      /* Footer styles below use same variables ‚Äî left unchanged structurally */
      .site-footer-v2 {
        background: linear-gradient(180deg, var(--bg-start), var(--bg-end));
        color: var(--text-color);
        padding: 28px 18px 14px;
        border-top: 1px solid var(--border-strong);
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      .footer-cta {
        padding: 14px 0;
        border-bottom: 1px solid var(--border-weak);
      }
      .cta-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        max-width: 1200px;
        margin: 0 auto;
        align-items: center;
      }
      .cta-item {
        display: flex;
        gap: 12px;
        align-items: center;
        justify-content: flex-start;
        background: linear-gradient(
          180deg,
          var(--surface-overlay),
          rgba(0, 0, 0, 0)
        );
        padding: 12px 14px;
        border-radius: 10px;
        min-height: 56px;
        transition: transform 0.18s ease, box-shadow 0.18s ease;
      }
      .cta-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
      }
      .cta-ico {
        width: 34px;
        height: 34px;
        display: block;
        flex-shrink: 0;
      }
      .cta-ico path {
        fill: var(--accent);
        opacity: 0.98;
      }
      .cta-text {
        line-height: 1.1;
      }
      .cta-text strong {
        display: block;
        font-size: 15px;
        color: var(--text-color);
        font-weight: 700;
      }
      .cta-text span {
        display: block;
        font-size: 13px;
        color: var(--muted);
        margin-top: 4px;
      }

      .footer-main {
        max-width: 1200px;
        margin: 20px auto 6px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        padding-bottom: 6px;
        justify-content: center;
        align-items: center;
      }
      .fm-col {
        padding: 6px 2px;
      }
      .fm-col.about h4,
      .fm-col.subscribe h4 {
        margin: 0 0 8px 0;
        color: var(--text-color);
        font-size: 16px;
        font-weight: 700;
      }
      .about-text {
        color: var(--muted);
        line-height: 1.6;
        font-size: 14px;
        margin-bottom: 12px;
      }

      .subscribe-form {
        display: flex;
        gap: 8px;
        background: var(--card-bg);
        padding: 8px;
        border-radius: 10px;
        align-items: center;
        border: 1px solid var(--border-weak);
      }
      .subscribe-form input {
        flex: 1;
        padding: 10px 12px;
        background: transparent;
        border: 1px solid var(--border-strong);
        color: var(--text-color);
        border-radius: 8px;
        font-size: 14px;
        outline: none;
      }
      .subscribe-form input::placeholder {
        color: var(--muted);
        opacity: 0.9;
      }
      .subscribe-form input:focus {
        box-shadow: 0 6px 22px rgba(0, 0, 0, 0.5), 0 6px 18px var(--accent-glow);
        border-color: var(--input-border);
      }
      .subscribe-form button {
        background: var(--accent);
        border: none;
        padding: 10px 12px;
        border-radius: 8px;
        display: grid;
        place-items: center;
        cursor: pointer;
        box-shadow: 0 8px 28px var(--accent-glow);
        transition: transform 0.14s ease, box-shadow 0.14s ease;
      }
      .subscribe-form button:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 34px var(--accent-glow);
      }
      .subscribe-form button svg {
        width: 18px;
        height: 18px;
        fill: #fff;
        transform: rotate(-6deg);
      }

      .footer-bottom {
        border-top: 1px solid var(--border-weak);
        margin-top: 18px;
        padding-top: 14px;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
      }
      .footer-bottom small {
        color: var(--muted);
      }

      .sr-only {
        position: absolute;
        left: -9999px;
        top: auto;
        width: 1px;
        height: 1px;
        overflow: hidden;
      }

      @media (max-width: 980px) {
        .footer-main {
          grid-template-columns: 1fr;
        }
        .cta-grid {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 520px) {
        .cta-item {
          justify-content: flex-start;
          gap: 10px;
          padding: 10px;
        }
        .cta-text strong {
          font-size: 14px;
        }
        .subscribe-form input {
          font-size: 13px;
          padding: 9px 10px;
        }
      }

      /* ===== minimal theme-toggle button style (place the HTML where you want) ===== */
      .theme-toggle {
        /* display: inline-grid; */
        place-items: center;
        padding: 6px 8px;
        height: 36px;
        min-width: 36px;
        border-radius: 8px;
        border: 1px solid var(--border-x);
        background: var(--card-bg);
        color: var(--text-color);
        cursor: pointer;
        font-size: 16px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar__brand">
        <a href="./search.html" class="brand">Slide</a>
      </div>

      <div class="nav-center">
        <form
          id="navbarSearchForm"
          class="nav-search"
          onsubmit="onNavbarSearch(event)"
        >
          <input
            id="navbarSearch"
            type="search"
            placeholder="OEM ‚Ññ, brend, mal adƒ± v…ô ya filial axtar"
            aria-label="Axtar"
          />
          <button type="submit">Axtar</button>
        </form>
      </div>

      <div class="nav-actions">
        <button
          id="navFavBtn"
          class="icon-button"
          aria-expanded="false"
          title="Favoritl…ôr"
        >
          <i class="fa-solid fa-heart"></i
          ><span id="favCount" class="badge" style="display: none">0</span>
        </button>
        <button
          id="navMenuBtn"
          class="icon-button"
          aria-expanded="false"
          title="Menyu"
        >
          <i class="fa-solid fa-ellipsis-vertical"></i>
        </button>
      </div>

      <div id="favPanel" class="panel" style="right: 86px">
        <h4>Favoritl…ôr</h4>
        <div id="favList" class="fav-list">
          <div class="empty">S…ônin favoritl…ôrin h…ôl…ô bo≈üdur.</div>
        </div>
        <div
          style="
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            margin-top: 6px;
          "
        >
          <button id="clearFavs" class="page-btn">Hamƒ±sƒ±nƒ± sil</button>
        </div>
      </div>

      <div
        id="menuPanel"
        class="menu-panel"
        role="menu"
        aria-label="ƒ∞stifad…ô√ßi menyusu"
      >
        <a href="/profile.html" role="menuitem" tabindex="0">Profilim</a>
        <a href="/settings.html" role="menuitem" tabindex="0">T…ônziml…ôm…ôl…ôr</a>
        <!-- Place this button anywhere (navbar, header). JS will attach behavior. -->
        <a
          id="themeToggle"
          class="theme-toggle"
          aria-pressed="false"
          title="Toggle theme"
        ></a>
        <a href="/logout" role="menuitem" tabindex="0">√áƒ±xƒ±≈ü</a>
      </div>
    </nav>

    <div
      id="emptyState"
      class="empty-state container"
      role="status"
      aria-live="polite"
      aria-hidden="true"
    >
      <div class="empty-illu" aria-hidden="true">
        <!-- playful magnifier/compass svg -->
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="g" x="-20%" y="-20%" width="140%" height="140%">
              <feGaussianBlur stdDeviation="6" result="b" />
            </filter>
          </defs>
          <circle
            cx="28"
            cy="28"
            r="20"
            fill="none"
            stroke="var(--accent)"
            stroke-width="3"
            stroke-linecap="round"
            stroke-linejoin="round"
            opacity="0.95"
          />
          <path
            d="M40 40 L54 54"
            stroke="var(--muted)"
            stroke-width="4"
            stroke-linecap="round"
          />
          <circle cx="28" cy="28" r="6" fill="var(--accent)" />
        </svg>
      </div>

      <div>
        <div class="empty-title">Axtardƒ±ƒüƒ±nƒ±z m…ôlumat tapƒ±lmadƒ±</div>
        <div class="empty-desc">
          Se√ßil…ôn kriteriyalara uyƒüun m…ôlumat c…ôdv…ôld…ô tapƒ±lmadƒ±. Filtrl…ôri
          yoxlayƒ±n v…ô ya axtarƒ±≈ü s√∂zl…ôrini geni≈ül…ôndirin.
        </div>

        <div class="empty-actions" aria-hidden="false">
          <button class="page-btn" id="refreshResultsBtn" type="button">
            S…ôhif…ôni yenil…ô
          </button>
          <button class="page-link" id="clearFiltersBtn" type="button">
            Filtrl…ôri sƒ±fƒ±rla
          </button>
          <button class="page-link" id="showAllBtn" type="button">
            Hamƒ±sƒ±nƒ± g√∂st…ôr
          </button>
        </div>

        <div class="empty-dots" aria-hidden="true">
          <span class="dot"></span><span class="dot"></span
          ><span class="dot"></span>
        </div>
      </div>
    </div>

    <!-- FOOTER (copy into your page) -->
    <footer class="site-footer-v2" aria-labelledby="footer-heading">
      <div class="footer-cta">
        <div class="cta-grid">
          <div class="cta-item">
            <svg class="cta-ico" viewBox="0 0 24 24" aria-hidden>
              <path
                d="M12 2C8 2 5 5 5 9c0 6.25 7 13 7 13s7-6.75 7-13c0-4-3-7-7-7zm0 9.5A2.5 2.5 0 1 1 12 6.5a2.5 2.5 0 0 1 0 5z"
              />
            </svg>
            <div class="cta-text">
              <strong>√únvan</strong><span>1010 Avenue, SW 54321, Bakƒ±</span>
            </div>
          </div>

          <div class="cta-item">
            <svg class="cta-ico" viewBox="0 0 24 24" aria-hidden>
              <path
                d="M6.6 10.2a15.05 15.05 0 0 0 7.2 7.2l2-2a1 1 0 0 1 1-.2c1.1.4 2.4.6 3.7.6a1 1 0 0 1 1 1V20a1 1 0 0 1-1 1C10.1 21 3 13.9 3 4a1 1 0 0 1 1-1h2.5a1 1 0 0 1 1 1c0 1.4.2 2.6.6 3.7a1 1 0 0 1-.2 1l-2 2z"
              />
            </svg>
            <div class="cta-text">
              <strong>Z…ông</strong><span>+994 50 555 55 55</span>
            </div>
          </div>

          <div class="cta-item">
            <svg class="cta-ico" viewBox="0 0 24 24" aria-hidden>
              <path
                d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z"
              />
            </svg>
            <div class="cta-text">
              <strong>E-po√ßt</strong><span>mail@info.com</span>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-main">
        <div class="fm-col about">
          <h4>Abun…ô ol</h4>
          <p>Yenilikl…ôrd…ôn x…ôb…ôrdar olmaq √º√ß√ºn e-po√ßtunu bura yaz.</p>
        </div>

        <div class="fm-col subscribe">
          <form
            class="subscribe-form"
            action="#"
            onsubmit="event.preventDefault(); alert('Subscribed!');"
          >
            <input
              type="email"
              name="email"
              placeholder="N√ºmun…ô: mail@site.com"
              required
            />
            <button aria-label="Subscribe" type="submit">
              <svg viewBox="0 0 24 24" aria-hidden>
                <path d="M2 21l21-9L2 3v7l15 2-15 2z" />
              </svg>
            </button>
          </form>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="fb-left">
          <small
            >&copy; <span id="year"></span> Slide. B√ºt√ºn h√ºquqlar
            qorunur.</small
          >
        </div>
      </div>
    </footer>

    <script>
      // (JS left unchanged from your last working version: popover controller, favorites, search, panels)
      // For brevity I'm keeping JS as-is; only layout got fixed.
      /* ------------ Helpers ------------ */
      function escapeHtml(s) {
        return String(s).replace(/[&<>"']/g, function (c) {
          return {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
          }[c];
        });
      }

      /* Popover controller (same robust implementation) */
      (function () {
        const M = 8;
        let openPop = null,
          openToggle = null,
          rafId = null;
        function positionPopover(toggle, pop) {
          if (!toggle || !pop) return;
          const btn = toggle.getBoundingClientRect();
          const vw = Math.max(
            document.documentElement.clientWidth,
            window.innerWidth || 0
          );
          const vh = Math.max(
            document.documentElement.clientHeight,
            window.innerHeight || 0
          );
          pop.style.display = "block";
          pop.style.visibility = "hidden";
          pop.classList.add("open");
          const pr = pop.getBoundingClientRect();
          let top = Math.round(btn.bottom + M);
          let left = Math.round(btn.left + btn.width / 2 - pr.width / 2);
          left = Math.max(M, Math.min(left, vw - pr.width - M));
          if (top + pr.height + M > vh) {
            const above = Math.round(btn.top - M - pr.height);
            if (above >= M) top = above;
            else {
              const spaceBelow = Math.max(0, vh - (btn.bottom + M));
              const spaceAbove = Math.max(0, btn.top - M);
              const wantH = Math.max(spaceBelow, spaceAbove, 80);
              pop.style.maxHeight = wantH + "px";
              const pr2 = pop.getBoundingClientRect();
              if (spaceBelow >= spaceAbove) top = Math.round(btn.bottom + M);
              else top = Math.round(Math.max(M, btn.top - M - pr2.height));
            }
          }
          pop.style.left = left + "px";
          pop.style.top = top + "px";
          pop.style.visibility = "";
        }
        function open(pop, toggle) {
          if (!pop || !toggle) return;
          if (openPop === pop) {
            close();
            return;
          }
          close();
          openPop = pop;
          openToggle = toggle;
          pop.setAttribute("aria-hidden", "false");
          toggle.setAttribute("aria-expanded", "true");
          pop.classList.add("open");
          pop.style.display = "block";
          pop.style.opacity = "1";
          positionPopover(toggle, pop);
          try {
            pop.focus();
          } catch (e) {}
          document.addEventListener("pointerdown", onDocPointerDown, true);
          window.addEventListener("resize", onReposition);
          window.addEventListener("orientationchange", onReposition);
          window.addEventListener("scroll", onReposition, true);
          pop.addEventListener("keydown", onPopKey);
        }
        function close() {
          if (!openPop) return;
          const pop = openPop,
            toggle = openToggle;
          pop.classList.remove("open");
          pop.setAttribute("aria-hidden", "true");
          pop.style.display = "none";
          pop.style.maxHeight = "";
          pop.style.left = "";
          pop.style.top = "";
          if (toggle) toggle.setAttribute("aria-expanded", "false");
          try {
            if (toggle && typeof toggle.focus === "function") toggle.focus();
          } catch (e) {}
          document.removeEventListener("pointerdown", onDocPointerDown, true);
          window.removeEventListener("resize", onReposition);
          window.removeEventListener("orientationchange", onReposition);
          window.removeEventListener("scroll", onReposition, true);
          pop.removeEventListener("keydown", onPopKey);
          openPop = null;
          openToggle = null;
          if (rafId) {
            cancelAnimationFrame(rafId);
            rafId = null;
          }
        }
        function onDocPointerDown(e) {
          if (!openPop || !openToggle) return;
          const insidePop = openPop.contains(e.target);
          const onToggle = openToggle.contains(e.target);
          if (!insidePop && !onToggle) close();
        }
        function onReposition() {
          if (!openPop || !openToggle) return;
          if (rafId) cancelAnimationFrame(rafId);
          rafId = requestAnimationFrame(() => {
            positionPopover(openToggle, openPop);
            rafId = null;
          });
        }
        function onPopKey(e) {
          if (e.key === "Escape" || e.key === "Esc") {
            e.preventDefault();
            close();
          }
        }
        document.addEventListener("click", function (e) {
          const toggle = e.target.closest('[data-action="toggle"]');
          if (!toggle) return;
          e.preventDefault();
          const cell = toggle.closest(".addr-cell");
          if (!cell) return;
          const pop = cell.querySelector(".popover");
          if (!pop) return;
          open(pop, toggle);
        });
        document.addEventListener("keydown", function (e) {
          const el = document.activeElement;
          if (!el) return;
          if (el.matches && el.matches('[data-action="toggle"], .info-btn')) {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              el.click();
            }
          }
        });
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape" || e.key === "Esc") close();
        });
        window.__slidePopoverClose = close;
      })();

      /* Favorites, panels, search ‚Äî keep as before (omitted here for brevity) */
      (function () {
        /* favorites & panels code (same as you had) */
        /* ... your favorites/panels code ... */
        // For demo, minimal favorites logic:
        const FAV_KEY = "slide_favorites_v1";
        const navFavBtn = document.getElementById("navFavBtn");
        const favPanel = document.getElementById("favPanel");
        const favListEl = document.getElementById("favList");
        const favCountEl = document.getElementById("favCount");
        const tbody = document.getElementById("tbody");
        function loadFavs() {
          try {
            const raw = localStorage.getItem(FAV_KEY);
            return raw ? JSON.parse(raw) : [];
          } catch (e) {
            return [];
          }
        }
        function saveFavs(list) {
          localStorage.setItem(FAV_KEY, JSON.stringify(list));
          renderFavs();
          updateFavButtons();
        }
        function renderFavs() {
          const list = loadFavs();
          favListEl.innerHTML = "";
          if (!list.length) {
            favListEl.innerHTML =
              '<div class="empty">S…ônin favoritl…ôrin h…ôl…ô bo≈üdur.</div>';
            favCountEl.style.display = "none";
            return;
          }
          favCountEl.style.display = "inline-block";
          favCountEl.textContent = String(list.length);
          list.forEach((item) => {
            const el = document.createElement("div");
            el.className = "fav-item";
            el.innerHTML = `<div style="flex:1;"><div class="meta"><strong>${escapeHtml(
              item.brand || item.name || "‚Äî"
            )}</strong></div><div class="muted" style="font-size:13px">${escapeHtml(
              item.oem || ""
            )} ¬∑ ${escapeHtml(
              item.place || ""
            )}</div></div><div style="display:flex;gap:8px;align-items:center"><button class="page-btn" data-action="goto" data-id="${escapeHtml(
              item.id
            )}">Open</button><button class="page-btn" data-action="remove" data-id="${escapeHtml(
              item.id
            )}">Remove</button></div>`;
            favListEl.appendChild(el);
          });
        }
        function updateFavButtons() {
          const favs = loadFavs();
          document.querySelectorAll(".fav-checkbox").forEach((input) => {
            const tr = input.closest("tr");
            const id = tr.dataset.id;
            const found = favs.find((f) => f.id === id);
            input.checked = !!found;
            const label = tr.querySelector(".fav-container");
            if (found) {
              label.classList.add("fav");
              label.setAttribute("title", "Favoritd…ôn sil");
              input.setAttribute("aria-pressed", "true");
            } else {
              label.classList.remove("fav");
              label.setAttribute("title", "Favorit…ô …ôlav…ô et");
              input.setAttribute("aria-pressed", "false");
            }
          });
        }
        navFavBtn.addEventListener("click", function () {
          const open = favPanel.classList.toggle("show");
          navFavBtn.setAttribute("aria-expanded", String(open));
          if (open) {
            document
              .getElementById("navMenuBtn")
              .setAttribute("aria-expanded", "false");
          }
          renderFavs();
        });
        favListEl.addEventListener("click", function (e) {
          const a = e.target.closest("[data-action]");
          if (!a) return;
          const act = a.dataset.action;
          const id = a.dataset.id;
          if (act === "goto") {
            const row = document.querySelector(`tbody tr[data-id="${id}"]`);
            if (row) {
              row.scrollIntoView({ behavior: "smooth", block: "center" });
              row.classList.add("highlight");
              setTimeout(() => row.classList.remove("highlight"), 1200);
            }
          }
          if (act === "remove") {
            let favs = loadFavs();
            favs = favs.filter((f) => f.id !== id);
            saveFavs(favs);
          }
        });
        document
          .getElementById("clearFavs")
          .addEventListener("click", function () {
            if (confirm("B√ºt√ºn favoritl…ôri silm…ôk ist…ôdiyiniz…ô …ôminsiniz?")) {
              localStorage.removeItem(FAV_KEY);
              renderFavs();
              updateFavButtons();
            }
          });
        renderFavs();
        updateFavButtons();
      })();

      function onNavbarSearch(e) {
        e.preventDefault();
        const q = document.getElementById("navbarSearch").value.trim();
        if (!q) return document.getElementById("navbarSearch").focus();
        const params = new URLSearchParams({ q });
        window.location.href = "/table.html?" + params.toString();
      }

      const navMenuBtn = document.getElementById("navMenuBtn");
      const menuPanel = document.getElementById("menuPanel");
      navMenuBtn.addEventListener("click", function () {
        const open = menuPanel.classList.toggle("show");
        navMenuBtn.setAttribute("aria-expanded", String(open));
        if (open) {
          document
            .getElementById("navFavBtn")
            .setAttribute("aria-expanded", "false");
          document.getElementById("favPanel").classList.remove("show");
        }
      });

      document.addEventListener(
        "pointerdown",
        function (e) {
          const path = e.composedPath ? e.composedPath() : e.path || [];
          if (
            !path.includes(document.getElementById("favPanel")) &&
            !path.includes(document.getElementById("navFavBtn"))
          )
            document.getElementById("favPanel").classList.remove("show");
          if (
            !path.includes(document.getElementById("menuPanel")) &&
            !path.includes(document.getElementById("navMenuBtn"))
          )
            document.getElementById("menuPanel").classList.remove("show");
        },
        true
      );

      document.getElementById("year").textContent = new Date().getFullYear();

      (function () {
        const y = document.getElementById("year");
        if (y) y.textContent = new Date().getFullYear();
      })();
    </script>
    <script>
      (function () {
        const KEY = "site_theme_v1";
        // determine initial theme: saved -> system preference -> dark fallback
        const saved = localStorage.getItem(KEY);
        let theme =
          saved ||
          (window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: light)").matches
            ? "light"
            : "dark");
        function apply(t) {
          document.documentElement.setAttribute("data-theme", t);
          localStorage.setItem(KEY, t);
          const btn = document.getElementById("themeToggle");
          if (btn) {
            btn.setAttribute("aria-pressed", String(t === "light"));
            btn.textContent = t === "light" ? "Dark theme üåô" : "Light theme‚òÄÔ∏è";
          }
        }
        apply(theme);

        // attach toggle click (will work even if button is added later)
        document.addEventListener("click", function (e) {
          const btn = e.target.closest("#themeToggle");
          if (!btn) return;
          theme =
            document.documentElement.getAttribute("data-theme") === "light"
              ? "dark"
              : "light";
          apply(theme);
        });
      })();
    </script>
    <script>
      (function () {
        const emptyEl = document.getElementById("emptyState");
        const tbody = document.getElementById("tbody");

        function updateEmptyState() {
          // if tbody not present -> show empty (safe fallback)
          if (!tbody) {
            emptyEl.classList.add("show");
            emptyEl.setAttribute("aria-hidden", "false");
            return;
          }
          const rows = Array.from(tbody.querySelectorAll("tr")).filter(
            (r) => r.style.display !== "none"
          );
          if (rows.length === 0) {
            emptyEl.classList.add("show");
            emptyEl.setAttribute("aria-hidden", "false");
          } else {
            emptyEl.classList.remove("show");
            emptyEl.setAttribute("aria-hidden", "true");
          }
        }

        // run on load
        document.addEventListener("DOMContentLoaded", updateEmptyState);
        // expose so you can call after backend render or ajax
        window.updateEmptyState = updateEmptyState;

        // actions
        document
          .getElementById("refreshResultsBtn")
          .addEventListener("click", function () {
            // naive refresh (you can replace with your AJAX fetch)
            window.location.reload();
          });
        document
          .getElementById("clearFiltersBtn")
          .addEventListener("click", function () {
            // if you have filter inputs, clear them programmatically here
            // quick generic behavior: trigger a custom event so outer code can clear filters
            window.dispatchEvent(new CustomEvent("clearFilters"));
          });
        document
          .getElementById("showAllBtn")
          .addEventListener("click", function () {
            // tries to show all rows if you hide them with display:none by filters
            const rows = tbody ? tbody.querySelectorAll("tr") : [];
            rows.forEach((r) => (r.style.display = ""));
            updateEmptyState();
          });
      })();
    </script>
    <!-- ------------------ end empty state ------------------ -->

    <script
      src="https://kit.fontawesome.com/a446eb9fda.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
